(window.webpackJsonpjiclone=window.webpackJsonpjiclone||[]).push([[0],{51:function(e,t,a){e.exports=a(83)},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(27),l=a.n(i),c=a(10),s=a(29),o=a(4),u=a(21),d=a(45),m=a.n(d),p=a(46),h=a(26),g=a(47),v=a(48),E=a(49),f=a(11);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var I=Object(u.c)({client:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CLIENTS":return b({},e,{list:t.payload});case"REGISTER_CLIENT":return b({},e,{clientRegister:t.payload});case"LOGIN_CLIENT":return b({},e,{clientLogin:t.payload});case"UPLOAD_CLIENT_AVATAR":return b({},e,{clientAvatarUpload:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_AUTH":return N({},e,{auth:t.payload});default:return e}},region:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_REGIONS":return j({},e,{list:t.payload});default:return e}},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES":return _({},e,{list:t.payload});default:return e}},place:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PLACES_BY_REGION":case"GET_PLACES":return P({},e,{list:t.payload});default:return e}},ad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_AD":return S({},e,{create:t.payload});case"UPDATE_AD":return S({},e,{update:t.payload});case"GET_CLIENT_ADS":return S({},e,{list:t.payload});case"GET_AD":return S({},e,{single:t.payload});default:return e}},ad_image:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_AD_IMAGES":return x({},e,{list:t.payload});case"UPLOAD_AD_IMAGE":return x({},e,{upload:t.payload});case"DEELTE_AD_IMAGE":return x({},e,{delete:t.payload});case"MAIN_AD_IMAGE":return x({},e,{main:t.payload});default:return e}}}),T=a(19),R=a(5),L=a(6),G=a(8),U=a(7),M=a(9),F=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(G.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(i)))).search=function(e){e.preventDefault()},a.items=[{class:"",text:"Home",link:"/",restricted:!1},{class:"",text:"Profile",link:"/profile",restricted:!0},{class:"",text:"Sign In",link:"/login",restricted:!1,exclude:!0},{class:"",text:"Registration",link:"/register",restricted:!1,exclude:!0},{class:"",text:"Logout",link:"/logout",restricted:!0},{class:"uk-button uk-button-primary",text:"POST AD",link:"/post-ad",restricted:!1}],a.element=function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(c.b,{to:e.link},r.a.createElement("div",{className:e.class},e.text)))},a.showItems=function(){return a.props.user.auth?a.items.map(function(e,t){return a.props.user.auth.isAuth?e.exclude?null:a.element(e,t):e.restricted?null:a.element(e,t)}):null},a}return Object(M.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{"data-uk-sticky":"show-on-up: true; animation: uk-animation-slide-top",className:"uk-sticky"},r.a.createElement("div",{className:"uk-navbar-container",style:{backgroundColor:"#FFF",borderBottom:"1px solid"}},r.a.createElement("nav",{className:"uk-container","uk-navbar":"True"},r.a.createElement("div",{className:"uk-navbar-left"},r.a.createElement("ul",{className:"uk-navbar-nav"},r.a.createElement("li",{className:"uk-active"},r.a.createElement(c.b,{to:"/"},r.a.createElement("img",{src:"/logo192.png",alt:"logo",style:{height:"50px"}}))))),r.a.createElement("div",{className:"uk-navbar-right"},r.a.createElement("ul",{className:"uk-navbar-nav"},this.showItems())))))}}]),t}(n.Component);var q=Object(o.b)(function(e){return{user:e.user}})(F),B=function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(q,e),r.a.createElement("div",{className:"uk-container uk-margin-top"},e.children)))},V=function(){return r.a.createElement("div",null,"Home")},Y=function(e){return e.cookies.remove("auth"),e.history.push("/login"),r.a.createElement("div",{className:"uk-container uk-text-center uk-padding"},r.a.createElement("h1",null,"Sorry to see you go :("))},H=a(25),J=a(3),z=a.n(J),K="/api",Q="http://localhost:5000/static/upload/images/avatars/",W="http://localhost:5000/static/upload/images/services/",X=6;var Z=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(G.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",first_name:"",last_name:"",phone:"",error:"",message:""},a.handleEmail=function(e){a.setState({email:e.target.value})},a.handlePassword=function(e){a.setState({password:e.target.value})},a.handleFirstname=function(e){a.setState({first_name:e.target.value})},a.handleLastname=function(e){a.setState({last_name:e.target.value})},a.handlePhone=function(e){a.setState({phone:e.target.value})},a.submitRegister=function(e){e.preventDefault(),a.setState({error:"",message:""});var t={email:a.state.email,password:a.state.password,first_name:a.state.first_name,last_name:a.state.last_name,phone:a.state.phone};a.props.dispatch(function(e){return{type:"REGISTER_CLIENT",payload:z.a.post("".concat(K,"/client"),e).then(function(e){return e.data})}}(t))},a}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.client!==this.props.client&&("failed"===this.props.client.clientRegister.status?this.setState({error:this.props.client.clientRegister.message,message:""}):this.setState({email:"",password:"",first_name:"",last_name:"",phone:"",error:"",message:this.props.client.clientRegister.message}))}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{className:"uk-flex uk-flex-center"},r.a.createElement("div",{className:"uk-width-1-1 uk-width-1-3@m"},r.a.createElement("div",null,r.a.createElement("div",{className:"uk-card uk-card-default uk-card-hover uk-flex uk-flex-column"},r.a.createElement("form",{onSubmit:this.submitRegister},r.a.createElement("div",{className:"uk-card-header uk-text-center"},r.a.createElement("h4",{className:"uk-text-bold"},"REGISTRATION")),r.a.createElement("div",{className:"uk-text-danger"},this.state.error),r.a.createElement("div",{className:"uk-text-success"},this.state.message),r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("div",{className:"uk-margin"},r.a.createElement("div",{className:"uk-width-1-1"},r.a.createElement("input",{type:"email",onChange:this.handleEmail,placeholder:"Your Email Address",value:this.state.email,className:"uk-input"}))),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("div",{className:"uk-width-1-1"},r.a.createElement("input",{type:"password",onChange:this.handlePassword,placeholder:"Your Password Address",value:this.state.password,className:"uk-input"}))),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("div",{className:"uk-width-1-1"},r.a.createElement("input",{type:"text",onChange:this.handleFirstname,placeholder:"Your First Name",value:this.state.first_name,className:"uk-input"}))),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("div",{className:"uk-width-1-1"},r.a.createElement("input",{type:"text",onChange:this.handleLastname,placeholder:"Your Last Name (optional)",value:this.state.last_name,className:"uk-input"}))),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("div",{className:"uk-width-1-1"},r.a.createElement("input",{type:"phone",onChange:this.handlePhone,placeholder:"Your Phone Number (optional)",value:this.state.phone,className:"uk-input"})))),r.a.createElement("div",{className:"uk-card-footer"},r.a.createElement("button",{className:"uk-button uk-button-primary uk-width-1-1",type:"submit"},"REGISTER"),r.a.createElement("p",null,"Already registered? ",r.a.createElement(c.b,{to:"/login"},"Click Here!"))))))))}}]),t}(n.PureComponent);var $=Object(o.b)(function(e){return{client:e.client}})(Z),ee=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(G.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(i)))).state={email:"",password:"",error:"",message:""},a.handleEmail=function(e){a.setState({email:e.target.value})},a.handlePassword=function(e){a.setState({password:e.target.value})},a.submitLogin=function(e){e.preventDefault(),a.setState({error:"",message:""});var t={email:a.state.email,password:a.state.password};a.props.dispatch(function(e){return{type:"LOGIN_CLIENT",payload:z.a.post("".concat(K,"/client/login"),e).then(function(e){return e.data})}}(t))},a.showOutput=function(){return a.state.error?r.a.createElement("div",{className:"uk-alert-danger","uk-alert":""},r.a.createElement("p",null,a.state.error)):a.state.message?r.a.createElement("div",{className:"uk-alert-success","uk-alert":""},r.a.createElement("p",null,a.state.message)):null},a}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.client!==this.props.client&&("failed"===this.props.client.clientLogin.status?this.setState({error:this.props.client.clientLogin.message,message:""}):(this.setState({email:"",password:"",error:"",message:this.props.client.clientLogin.message}),this.props.history.push("/profile")))}},{key:"render",value:function(){return r.a.createElement("div",{className:"uk-flex uk-flex-center"},r.a.createElement("div",{className:"uk-width-1-1 uk-width-1-3@m"},r.a.createElement("div",null,r.a.createElement("div",{className:"uk-card uk-card-default uk-card-hover uk-flex uk-flex-column"},r.a.createElement("form",{onSubmit:this.submitLogin},r.a.createElement("div",{className:"uk-card-header uk-text-center"},r.a.createElement("h4",{className:"uk-text-bold"},"LOGIN")),this.showOutput(),r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("div",{className:"uk-margin"},r.a.createElement("div",{className:"uk-width-1-1"},r.a.createElement("input",{type:"email",onChange:this.handleEmail,placeholder:"Your Email Address",value:this.state.email,className:"uk-input"}))),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("div",{className:"uk-width-1-1"},r.a.createElement("input",{type:"password",onChange:this.handlePassword,placeholder:"Your Password Address",value:this.state.password,className:"uk-input"})))),r.a.createElement("div",{className:"uk-card-footer"},r.a.createElement("button",{className:"uk-button uk-button-primary uk-width-1-1",type:"submit"},"LOGIN"),r.a.createElement("p",null,"New here? ",r.a.createElement(c.b,{to:"/register"},"Click Here!"))))))))}}]),t}(n.PureComponent);var te=Object(o.b)(function(e){return{client:e.client}})(ee),ae=a(18),ne=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(G.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(i)))).client=a.props.user.auth.client,a.state={upload:"",imgSrc:Q+a.client.avatar,fallBackSrc:"images/avatar.svg",loading:!1},a.uploadImage=function(e){e.preventDefault(),a.setState({loading:!0});var t=new FileReader,n=e.target.files[0],r=n.name.split(".");r=r[r.length-1],t.onloadend=function(){var e=t.result.split(",",2),n={id:a.client.id,type:r,img:e[1]};a.props.dispatch(function(e){return{type:"UPLOAD_CLIENT_AVATAR",payload:z.a.post("".concat(K,"/client/avatar"),e).then(function(e){return e.data})}}(n))},t.readAsDataURL(n)},a.showLoader=function(){return a.state.loading?r.a.createElement("div",{className:"uk-overlay-primary uk-position-cover",style:{borderRadius:"50%"}},r.a.createElement("div",{className:"uk-position-center uk-spinner uk-icon","uk-spinner":"ratio: 1"})):null},a.startUpload=function(e){a.refs.uploadFile.click()},a.setDefaultImage=function(){a.setState({imgSrc:a.state.fallBackSrc})},a}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidUpdate",value:function(e){if(e.client!==this.props.client&&this.props.client.clientAvatarUpload){var t=this.props.client.clientAvatarUpload;"success"===t.status?this.setState({loading:!1,imgSrc:Q+t.client.avatar}):(this.setState({loading:!1}),alert(t.message))}}},{key:"render",value:function(){return r.a.createElement("div",{className:"uk-text-center uk-card uk-card-default"},r.a.createElement("div",{className:"uk-card-header"},r.a.createElement("div",{className:"uk-inline"},r.a.createElement("img",{src:this.state.imgSrc,onError:this.setDefaultImage,alt:"Avatar",width:"100",style:{borderRadius:"50%"}}),this.state.loading?null:r.a.createElement("div",{className:"uk-position-bottom-right uk-icon-button",onClick:this.startUpload},r.a.createElement(ae.a,{icon:"camera"}),r.a.createElement("input",{type:"file",onChange:this.uploadImage.bind(this),ref:"uploadFile",id:"uploadImage",style:{display:"none"}})),this.showLoader())),r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("b",null,this.client.last_name," ",this.client.first_name,r.a.createElement("br",null))))}}]),t}(n.Component);var re=Object(o.b)(function(e){return{user:e.user,client:e.client}})(ne);function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return{type:"GET_CLIENT_ADS",payload:z.a.get("".concat(K,"/client_services/").concat(e,"?limited=").concat(t,"&page=").concat(a)).then(function(e){return e.data})}}function le(e){return{type:"GET_AD",payload:z.a.get("".concat(K,"/service/").concat(e)).then(function(e){return e.data})}}var ce=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(G.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(i)))).state={ads:[],nextPage:1,hasNext:!0,limit:1},a.componentDidMount=function(){var e=a.props.user.auth.client;a.props.dispatch(ie(e.id,a.state.limit,a.state.nextPage))},a.componentDidUpdate=function(e){if(a.props.ad!==e.ad){var t=a.props.ad.list;a.setState({ads:[].concat(Object(H.a)(a.state.ads),Object(H.a)(t.ads)),nextPage:a.state.nextPage+1,hasNext:t.has_next})}},a.loadMoreAds=function(){var e=a.props.user.auth.client;a.props.dispatch(ie(e.id,a.state.limit,a.state.nextPage))},a.fillTable=function(){return a.state.ads&&Array.isArray(a.state.ads)?a.state.ads.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement("img",{src:e.default_image?W+e.default_image.image:"images/camera.png",alt:"Cover",width:"50"})),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.category.title),r.a.createElement("td",null,r.a.createElement(c.b,{to:"/my-ad/".concat(e.id),className:"uk-button uk-button-primary"},"View")))}):null},a.AdsListTable=function(){return r.a.createElement("table",{className:"uk-table uk-table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,a.fillTable()))},a}return Object(M.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){return console.log(this.state),r.a.createElement("div",null,this.AdsListTable(),this.state.hasNext?r.a.createElement("div",{className:"uk-text-center uk-margin"},r.a.createElement("button",{className:"uk-button uk-button-primary",type:"button",onClick:this.loadMoreAds},"Load More")):null)}}]),t}(n.Component);var se=Object(o.b)(function(e){return{user:e.user,client:e.client,ad:e.ad}})(ce),oe=function(e){function t(){return Object(R.a)(this,t),Object(G.a)(this,Object(U.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:""},r.a.createElement("div",{className:"uk-container"},r.a.createElement("div",{"uk-grid":""},r.a.createElement("div",{className:"uk-width-1-4@m"},r.a.createElement(re,this.props)),r.a.createElement("div",{className:"uk-width-3-4@m"},r.a.createElement("div",null,r.a.createElement("div",{className:"uk-card uk-card-default"},r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("div",{className:"uk-margin uk-text-center"},r.a.createElement("p",null,"Post an Ad and start selling"),r.a.createElement(c.b,{to:"/post-ad",className:"uk-button uk-button-primary"},"Post Ad")))),r.a.createElement("div",{className:"uk-card uk-card-default"},r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("div",{className:"uk-margin uk-text-center"},r.a.createElement(se,this.props)))))))))}}]),t}(n.Component),ue=Object(o.b)(function(e){return{user:e.user,client:e.client}})(oe);function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{type:"GET_CATEGORIES",payload:z.a.get("".concat(K,"/category?limited=").concat(e,"&page=").concat(t)).then(function(e){return e.data})}}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{type:"GET_REGIONS",payload:z.a.get("".concat(K,"/region?limited=").concat(e,"&page=").concat(t)).then(function(e){return e.data})}}function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return{type:"GET_PLACES_BY_REGION",payload:z.a.get("".concat(K,"/place/region/").concat(e,"?limited=").concat(t,"&page=").concat(a)).then(function(e){return e.data})}}var he=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(G.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(i)))).state={Post_Ad:{title:{name:"select_title",value:""},description:{name:"select_description",value:""},category:{name:"select_category",value:"",values:[]},region:{name:"select_region",value:"",values:[]},place:{name:"select_place",value:"",values:[]},open:{name:"radio_open",value:!1},image:{name:"input_image",value:"",type:""},price:{name:"input_price",value:""},phone:{name:"input_phone",value:""},negotiable:{name:"checkbox_negotiable",value:!1}},imgSrc:"",fallBackSrc:"images/camera.png",error:"",loading:!1},a.componentDidMount=function(){a.props.dispatch(de()),a.props.dispatch(me())},a.componentDidUpdate=function(e){var t=a.state.Post_Ad,n=!1;if(a.props.category!==e.category){var r=a.props.category.list;r&&"success"===r.status&&(t.category.values=r.categories,n=!0)}if(a.props.region!==e.region){var i=a.props.region.list;i&&"success"===i.status&&(t.region.values=i.regions,n=!0)}if(a.props.place!==e.place){var l=a.props.place.list;l&&"success"===l.status&&(t.place.values=l.places,n=!0)}if(a.props.ad!==e.ad){var c=a.props.ad.create;c&&("success"===c.status?a.props.history.push("/my-ad/".concat(c.ad.id)):a.setState({error:c.message,loading:!1}))}n&&a.setState({Post_Ad:t})},a.displayOptions=function(e){if(e.values)return e.values.map(function(e,t){return r.a.createElement("option",{value:e.id,key:t},e.title)})},a.selectCategoryChange=function(e){var t=a.state.Post_Ad;t.category.value=e.target.value,a.setState({Post_Ad:t})},a.selectRegionChange=function(e){var t=a.state.Post_Ad;t.region.value=e.target.value,""!==e.target.value&&a.props.dispatch(pe(e.target.value)),a.setState({Post_Ad:t})},a.selectPlaceChange=function(e){var t=a.state.Post_Ad;t.place.value=e.target.value,a.setState({Post_Ad:t})},a.radioOpenClick=function(e,t){var n=a.state.Post_Ad;n.open.value=t,a.setState({Post_Ad:n})},a.checkNegotiableChange=function(e){var t=a.state.Post_Ad;t.negotiable.value=e.target.checked,a.setState({Post_Ad:t})},a.inputPriceChange=function(e){var t=a.state.Post_Ad;t.price.value=e.target.value,a.setState({Post_Ad:t})},a.inputPhoneChange=function(e){var t=a.state.Post_Ad;t.phone.value=e.target.value,a.setState({Post_Ad:t})},a.inputTitleChange=function(e){var t=a.state.Post_Ad;t.title.value=e.target.value,a.setState({Post_Ad:t})},a.textareaDescriptionChange=function(e){var t=a.state.Post_Ad;t.description.value=e.target.value,a.setState({Post_Ad:t})},a.setDefaultImage=function(){a.setState({imgSrc:a.state.fallBackSrc})},a.submitAd=function(e){e.preventDefault();var t=a.state.Post_Ad,n={description:t.description.value,title:t.title.value,category:t.category.value,region:t.region.value,place:t.place.value,open:t.open.value,price:t.price.value,phone:t.phone.value,negotiable:t.negotiable.value,image:t.image.value,type:t.image.type,client:a.props.user.auth.client.id};a.props.dispatch(function(e){return{type:"CREATE_AD",payload:z.a.post("".concat(K,"/service"),e).then(function(e){return e.data})}}(n)),a.setState({loading:!0})},a.uploadImage=function(e){e.preventDefault();var t=new FileReader,n=e.target.files[0],r=n.name.split(".");r=r[r.length-1],t.onloadend=function(){var e=t.result.split(",",2),n=a.state.Post_Ad;n.image.value=e[1],n.image.type=r;var i=t.result;a.setState({Post_Ad:n,imgSrc:i})},t.readAsDataURL(n)},a.startUpload=function(e){a.refs.uploadFile.click()},a}return Object(M.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:""},r.a.createElement("div",{className:"uk-container uk-width-1-1"},r.a.createElement("form",{onSubmit:this.submitAd},r.a.createElement("div",{className:"uk-card uk-card-default"},r.a.createElement("div",{className:"uk-card-header"},r.a.createElement("h2",{className:"uk-card-title"},"Ad Details")),r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("div",{className:"uk-margin"},r.a.createElement("b",null,"Title: "),r.a.createElement("hr",null),r.a.createElement("input",{type:"text",name:this.state.Post_Ad.title.name,onChange:this.inputTitleChange,placeholder:"Enter Title",required:"",className:"uk-input uk-width-1-3"})),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("b",null,"Category: "),r.a.createElement("hr",null),r.a.createElement("select",{required:!0,className:"uk-select uk-width-1-3",name:this.state.Post_Ad.category.name,onChange:this.selectCategoryChange},r.a.createElement("option",{value:""}," -- Category -- "),this.displayOptions(this.state.Post_Ad.category))),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("b",null,"Title Picture: "),r.a.createElement("hr",null),r.a.createElement("div",{className:"uk-width-1-5@m uk-width-1-3"},r.a.createElement("div",{className:"uk-inline uk-width-1-1 uk-border-rounded",onClick:this.startUpload,style:{border:"2px solid #ddd"}},r.a.createElement("img",{src:this.state.imgSrc,onError:this.setDefaultImage,alt:"Avatar",width:"100%",className:"uk-border-rounded"}),r.a.createElement("input",{type:"file",onChange:this.uploadImage.bind(this),ref:"uploadFile",id:"uploadImage",style:{display:"none"}})))),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("b",null,"Price:"),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",required:"",value:!0,name:this.state.Post_Ad.open.name,className:"uk-radio",onClick:function(t){return e.radioOpenClick(t,!0)}})," Contact for price ",r.a.createElement("br",null),r.a.createElement("input",{type:"radio",required:"",value:!1,name:this.state.Post_Ad.open.name,className:"uk-radio",onClick:function(t){return e.radioOpenClick(t,!1)},defaultChecked:"true"}),"  Price",!0!==this.state.Post_Ad.open.value?r.a.createElement("span",{className:"uk-margin-large-left"},r.a.createElement("input",{type:"text",name:this.state.Post_Ad.price.name,placeholder:"Enter Price",className:"uk-input uk-width-1-3 uk-width-1-5@m",onChange:this.inputPriceChange}),r.a.createElement("input",{type:"checkbox",name:this.state.Post_Ad.negotiable.name,className:"uk-checkbox uk-margin-left",onChange:this.checkNegotiableChange})," Negotiable"):null)),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("b",null,"Description:"),r.a.createElement("hr",null),r.a.createElement("textarea",{className:"uk-textarea uk-width-2-3",required:"",rows:"5",name:this.state.Post_Ad.description.name,onChange:this.textareaDescriptionChange})))),r.a.createElement("div",{className:"uk-card uk-card-default uk-margin-top"},r.a.createElement("div",{className:"uk-card-header"},r.a.createElement("h2",{className:"uk-card-title"},"Contact Information for Ad")),r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("div",{className:"uk-margin"},r.a.createElement("b",null,"Name: "),this.props.user.auth?this.props.user.auth.client.last_name+" "+this.props.user.auth.client.first_name:null),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("b",null,"Phone: "),r.a.createElement("hr",null),r.a.createElement("input",{type:"text",name:this.state.Post_Ad.phone.name,onChange:this.inputPhoneChange,placeholder:"Enter Phone",className:"uk-input uk-width-1-3"})),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("b",null,"Region: "),r.a.createElement("hr",null),r.a.createElement("select",{required:!0,className:"uk-select uk-width-1-3",name:this.state.Post_Ad.region.name,onChange:this.selectRegionChange},r.a.createElement("option",{value:""}," -- Region -- "),this.displayOptions(this.state.Post_Ad.region))),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("b",null,"Place: "),r.a.createElement("hr",null),r.a.createElement("select",{required:!0,className:"uk-select uk-width-1-3",name:this.state.Post_Ad.place.name,onChange:this.selectPlaceChange},r.a.createElement("option",{value:""}," -- Place -- "),this.displayOptions(this.state.Post_Ad.place))))),r.a.createElement("div",{className:"uk-text-center uk-margin"},this.state.error?r.a.createElement("div",{className:"uk-alert uk-alert-danger"},this.state.error):null,this.state.loading?r.a.createElement("div",null,"Processing",r.a.createElement("span",{className:"uk-spinner uk-icon uk-margin-left","uk-spinner":"ratio: .5"})):r.a.createElement("button",{className:"uk-button uk-button-primary",type:"submit"},"Post Ad")))))}}]),t}(n.Component),ge=Object(o.b)(function(e){return{user:e.user,client:e.client,region:e.region,category:e.category,place:e.place,ad:e.ad}})(he),ve=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(G.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(i)))).state={Edit_Ad:{title:{name:"select_title",value:""},description:{name:"select_description",value:""},category:{name:"select_category",value:"",values:[]},region:{name:"select_region",value:"",values:[]},place:{name:"select_place",value:"",values:[]},open:{name:"radio_open",value:!1},price:{name:"input_price",value:""},phone:{name:"input_phone",value:""},negotiable:{name:"checkbox_negotiable",value:!1}},ad:null,imgSrc:"",fallBackSrc:"images/camera.png",error:"",loading:!1},a.componentDidMount=function(){a.props.dispatch(le(a.props.match.params.id)),a.props.dispatch(de()),a.props.dispatch(me())},a.componentDidUpdate=function(e){var t=a.state.Edit_Ad,n=!1;if(a.props.category!==e.category){var r=a.props.category.list;r&&"success"===r.status&&(t.category.values=r.categories,n=!0)}if(a.props.region!==e.region){var i=a.props.region.list;i&&"success"===i.status&&(t.region.values=i.regions,n=!0)}if(a.props.place!==e.place){var l=a.props.place.list;l&&"success"===l.status&&(t.place.values=l.places,n=!0)}if(a.props.ad!==e.ad){if(!1===!e.ad&&a.props.ad.single){var c=a.props.ad.single.ad;c.client.id!==a.props.user.auth.client.id&&a.props.history.push("/profile");var s=a.state.Edit_Ad;s.category.value=c.category.id,s.open.value=c.open,s.price.value=c.price,s.place.value=c.place.id,s.region.value=c.region.id,s.title.value=c.title,s.description.value=c.description,s.negotiable.value=c.negotiable,s.phone.value=c.phone,a.setState({ad:a.props.ad.single.ad,Edit_Ad:s}),a.props.dispatch(pe(c.region.id))}var o=a.props.ad.update;o&&("success"===o.status?a.props.history.push("/my-ad/".concat(o.ad.id)):a.setState({error:o.message,loading:!1}))}n&&a.setState({Edit_Ad:t})},a.displayOptions=function(e){if(e.values)return e.values.map(function(e,t){return r.a.createElement("option",{value:e.id,key:t},e.title)})},a.selectCategoryChange=function(e){var t=a.state.Edit_Ad;t.category.value=e.target.value,a.setState({Edit_Ad:t})},a.selectRegionChange=function(e){var t=a.state.Edit_Ad;t.region.value=e.target.value,""!==e.target.value&&a.props.dispatch(pe(e.target.value)),a.setState({Edit_Ad:t})},a.selectPlaceChange=function(e){var t=a.state.Edit_Ad;t.place.value=e.target.value,a.setState({Edit_Ad:t})},a.radioOpenClick=function(e,t){var n=a.state.Edit_Ad;n.open.value=t,a.setState({Edit_Ad:n})},a.checkNegotiableChange=function(e){var t=a.state.Edit_Ad;t.negotiable.value=e.target.checked,a.setState({Edit_Ad:t})},a.inputPriceChange=function(e){var t=a.state.Edit_Ad;t.price.value=e.target.value,a.setState({Edit_Ad:t})},a.inputPhoneChange=function(e){var t=a.state.Edit_Ad;t.phone.value=e.target.value,a.setState({Edit_Ad:t})},a.inputTitleChange=function(e){var t=a.state.Edit_Ad;t.title.value=e.target.value,a.setState({Edit_Ad:t})},a.textareaDescriptionChange=function(e){var t=a.state.Edit_Ad;t.description.value=e.target.value,a.setState({Edit_Ad:t})},a.setDefaultImage=function(){a.setState({imgSrc:a.state.fallBackSrc})},a.submitAd=function(e){e.preventDefault();var t=a.state.Edit_Ad,n={description:t.description.value,title:t.title.value,category:t.category.value,region:t.region.value,place:t.place.value,open:t.open.value,price:t.price.value,phone:t.phone.value,negotiable:t.negotiable.value,id:a.state.ad.id};a.props.dispatch(function(e){return{type:"UPDATE_AD",payload:z.a.put("".concat(K,"/service"),e).then(function(e){return e.data})}}(n)),a.setState({loading:!0})},a.startUpload=function(e){a.refs.uploadFile.click()},a}return Object(M.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this,t=this.state.ad;return t?r.a.createElement("section",{className:""},r.a.createElement("div",{className:"uk-container uk-width-1-1"},r.a.createElement("form",{onSubmit:this.submitAd},r.a.createElement("div",{className:"uk-card uk-card-default"},r.a.createElement("div",{className:"uk-card-header"},r.a.createElement("h2",{className:"uk-card-title"},"Ad Details")),r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("div",{className:"uk-margin"},r.a.createElement("b",null,"Title: "),r.a.createElement("hr",null),r.a.createElement("input",{type:"text",required:"",name:this.state.Edit_Ad.title.name,onChange:this.inputTitleChange,placeholder:"Enter Title",className:"uk-input uk-width-1-3",defaultValue:t.title})),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("b",null,"Category: "),r.a.createElement("hr",null),r.a.createElement("select",{required:!0,className:"uk-select uk-width-1-3",name:this.state.Edit_Ad.category.name,onChange:this.selectCategoryChange,defaultValue:t.category.id},r.a.createElement("option",{value:""}," -- Category -- "),this.displayOptions(this.state.Edit_Ad.category))),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("b",null,"Price:"),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",required:"",value:!0,name:this.state.Edit_Ad.open.name,className:"uk-radio",defaultChecked:t.open,onClick:function(t){return e.radioOpenClick(t,!0)}})," Contact for price ",r.a.createElement("br",null),r.a.createElement("input",{type:"radio",required:"",value:!1,name:this.state.Edit_Ad.open.name,className:"uk-radio",onClick:function(t){return e.radioOpenClick(t,!1)},defaultChecked:!t.open}),"  Price",!0!==this.state.Edit_Ad.open.value?r.a.createElement("span",{className:"uk-margin-large-left"},r.a.createElement("input",{type:"text",name:this.state.Edit_Ad.price.name,placeholder:"Enter Price",className:"uk-input uk-width-1-3 uk-width-1-5@m",onChange:this.inputPriceChange,defaultValue:t.price}),r.a.createElement("input",{type:"checkbox",name:this.state.Edit_Ad.negotiable.name,className:"uk-checkbox uk-margin-left",onChange:this.checkNegotiableChange,defaultChecked:t.negotiable})," Negotiable"):null)),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("b",null,"Description:"),r.a.createElement("hr",null),r.a.createElement("textarea",{className:"uk-textarea uk-width-2-3",rows:"5",defaultValue:t.description,name:this.state.Edit_Ad.description.name,onChange:this.textareaDescriptionChange})))),r.a.createElement("div",{className:"uk-card uk-card-default uk-margin-top"},r.a.createElement("div",{className:"uk-card-header"},r.a.createElement("h2",{className:"uk-card-title"},"Contact Information for Ad")),r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("div",{className:"uk-margin"},r.a.createElement("b",null,"Name: "),this.props.user.auth?this.props.user.auth.client.last_name+" "+this.props.user.auth.client.first_name:null),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("b",null,"Phone: "),r.a.createElement("hr",null),r.a.createElement("input",{type:"text",name:this.state.Edit_Ad.phone.name,onChange:this.inputPhoneChange,placeholder:"Enter Phone",className:"uk-input uk-width-1-3",defaultValue:t.phone})),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("b",null,"Region: "),r.a.createElement("hr",null),r.a.createElement("select",{required:!0,className:"uk-select uk-width-1-3",name:this.state.Edit_Ad.region.name,onChange:this.selectRegionChange,defaultValue:t.region.id},r.a.createElement("option",{value:""}," -- Region -- "),this.displayOptions(this.state.Edit_Ad.region))),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("b",null,"Place: "),r.a.createElement("hr",null),r.a.createElement("select",{required:!0,className:"uk-select uk-width-1-3",name:this.state.Edit_Ad.place.name,onChange:this.selectPlaceChange,value:this.state.Edit_Ad.place.value},r.a.createElement("option",{value:""}," -- Place -- "),this.displayOptions(this.state.Edit_Ad.place))))),r.a.createElement("div",{className:"uk-text-center uk-margin"},this.state.error?r.a.createElement("div",{className:"uk-alert uk-alert-danger"},this.state.error):null,this.state.loading?r.a.createElement("div",null,"Processing",r.a.createElement("span",{className:"uk-spinner uk-icon uk-margin-left","uk-spinner":"ratio: .5"})):r.a.createElement("div",null,r.a.createElement(c.b,{to:"/my-ad/".concat(t.id),className:"uk-button uk-button-secondary uk-margin-right"},r.a.createElement(ae.a,{icon:"backward"})),r.a.createElement("button",{className:"uk-button uk-button-primary",type:"submit"},r.a.createElement(ae.a,{icon:"save"}))))))):null}}]),t}(n.Component),Ee=Object(o.b)(function(e){return{user:e.user,client:e.client,region:e.region,category:e.category,place:e.place,ad:e.ad}})(ve),fe=a(23);function ke(e){return{type:"GET_AD_IMAGES",payload:z.a.get("".concat(K,"/service_image/").concat(e)).then(function(e){return e.data})}}var be=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(G.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(i)))).state={ad:null,ad_images:null,loading:!1,ad_images_count:0,active_image:{id:0,image:null}},a.startUpload=function(e){a.refs.uploadFile.click()},a.uploadImage=function(e){e.preventDefault(),a.setState({loading:!0});var t=new FileReader,n=e.target.files[0],r=n.name.split(".");r=r[r.length-1],t.onloadend=function(){var e=t.result.split(",",2),n={ad:a.state.ad.id,type:r,img:e[1]};a.props.dispatch(function(e){return{type:"UPLOAD_AD_IMAGE",payload:z.a.post("".concat(K,"/service_image"),e).then(function(e){return e.data})}}(n))},t.readAsDataURL(n)},a.deleteAdImage=function(){var e={client:a.state.ad.client.id,ad:a.state.ad.id,image:a.state.active_image.id};a.props.dispatch(function(e){return{type:"DEELTE_AD_IMAGE",payload:z.a.post("".concat(K,"/service_image/delete"),e).then(function(e){return e.data})}}(e))},a.mainAdImage=function(){var e={client:a.state.ad.client.id,ad:a.state.ad.id,image:a.state.active_image.id};a.props.dispatch(function(e){return{type:"MAIN_AD_IMAGE",payload:z.a.post("".concat(K,"/service_image/main"),e).then(function(e){return e.data})}}(e))},a.adImagesList=function(){var e=a.state.ad_images;if(e)return e.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{className:"uk-inline uk-inline-clip uk-transition-toggle"},r.a.createElement("img",{onLoadStart:a.fixImageHeight,src:W+e.image,alt:e.image,style:{objectFit:"cover",width:"150px",height:"150px"}}),r.a.createElement("a",{onClick:function(t){return a.setActive(e)},href:"#full-modal","uk-toggle":""},r.a.createElement("div",{className:"uk-transition-fade uk-position-cover uk-overlay uk-overlay-primary uk-flex uk-flex-center uk-flex-middle pointer"},r.a.createElement("span",{"uk-overlay-icon":""})))))})},a.adImagePopUp=function(){return r.a.createElement("div",{id:"full-modal",className:"uk-modal-full uk-height-1-1","uk-modal":""},r.a.createElement("div",{className:"uk-modal-dialog uk-height-1-1"},r.a.createElement("button",{className:"uk-modal-close-full uk-close-large",type:"button","uk-close":""}),r.a.createElement("div",{className:"uk-grid-collapse uk-child-width-1-2@s uk-flex-middle","uk-grid":""},r.a.createElement("div",{className:"uk-background-contain",style:{backgroundImage:"url('".concat(W+a.state.active_image.image,"')")},"uk-height-viewport":"offset-bottom: 20, offset-top: 20",alt:a.state.active_image.image}),r.a.createElement("div",{className:"uk-padding-large"},r.a.createElement("h1",null,"Actions"),r.a.createElement("div",{className:"uk-child-width-1-3@s uk-grid-small","uk-grid":""},r.a.createElement("div",null,r.a.createElement("button",{className:"uk-button uk-button-primary uk-modal-close",onClick:a.mainAdImage},"MAKE MAIN")),r.a.createElement("div",null,r.a.createElement("button",{className:"uk-button uk-button-danger uk-modal-close",onClick:a.deleteAdImage},"DELETE")),r.a.createElement("div",null,r.a.createElement("button",{className:"uk-button uk-button-secondary uk-modal-close"},"CLOSE")))))))},a.setActive=function(e){var t=a.state.active_image;t.image=e.image,t.id=e.id,a.setState({active_image:t})},a.adView=function(){var e=a.state.ad;if(e)return r.a.createElement("div",null,a.adImagePopUp(),r.a.createElement("div",{className:"uk-float-right"},r.a.createElement(c.b,{to:"/my-ad/".concat(e.id,"/edit"),className:"uk-button uk-button-primary uk-margin-small-right"},r.a.createElement(ae.a,{icon:"edit"})),r.a.createElement(c.b,{to:"/profile",className:"uk-button uk-button-secondary"},r.a.createElement(ae.a,{icon:"backward"}))),r.a.createElement("h3",null,"Title: ",e.title),r.a.createElement("hr",null),r.a.createElement("div",{"uk-grid":""},r.a.createElement("div",{className:"uk-width-1-1 uk-width-1-4@m"},r.a.createElement("div",{className:"uk-text-center"},r.a.createElement("img",{src:e.default_image?W+e.default_image.image:"/images/camera.png",alt:"Cover",width:"150"}),r.a.createElement("div",null,r.a.createElement("hr",null)),r.a.createElement("div",{className:"uk-child-width-1-2 uk-grid-collapse","uk-grid":""},a.adImagesList(),a.state.ad_images_count<X?r.a.createElement("div",null,r.a.createElement("div",{className:"uk-inline",style:{width:"150px",height:"150px",cursor:"pointer"}},a.state.loading?r.a.createElement("div",null,r.a.createElement("div",{className:"uk-overlay-primary uk-position-cover"},r.a.createElement("div",{className:"uk-position-center uk-spinner uk-icon","uk-spinner":"ratio: 1"}))):r.a.createElement("div",{className:"uk-icon-button uk-position-center",style:{width:"50px",height:"50px"},onClick:a.startUpload},r.a.createElement(ae.a,{icon:"plus"}),r.a.createElement("input",{type:"file",onChange:a.uploadImage.bind(Object(fe.a)(a)),ref:"uploadFile",id:"uploadImage",style:{display:"none"}})))):null),r.a.createElement("hr",null))),r.a.createElement("div",{className:"uk-width-1-1 uk-width-3-4@m"},r.a.createElement("div",{className:"uk-card uk-card-default"},r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("h4",null,r.a.createElement("b",null,"Overview:")),r.a.createElement("hr",null),r.a.createElement("div",{className:"uk-child-width-1-1 uk-child-width-1-2@m","uk-grid":""},r.a.createElement("div",null,r.a.createElement("b",null,"Category: ")," ",e.category.title),r.a.createElement("div",null,r.a.createElement("b",null,"Region: ")," ",e.region.title),r.a.createElement("div",null,r.a.createElement("b",null,"Place: ")," ",e.place.title),r.a.createElement("div",null,r.a.createElement("b",null,"Price: ")," ",e.open?"Contact For Price":e.negotiable?"NGN ".concat(e.price," - Negotiable"):"NGN ".concat(e.price))),r.a.createElement("h5",null,r.a.createElement("b",null,"Description:")),r.a.createElement("hr",null),r.a.createElement("div",null,e.description))))))},a}return Object(M.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.dispatch(le(e)),this.props.dispatch(ke(e))}},{key:"componentDidUpdate",value:function(e){if(this.props.ad!==e.ad){var t=this.props.ad.single.ad;t&&(t.client.id===this.props.user.auth.client.id?this.setState({ad:t}):this.props.history.push("/profile"))}if(this.props.ad_image!==e.ad_image){var a=this.props.ad_image.list.ad_images;if(a){var n=a.length;this.setState({ad_images:a,ad_images_count:n})}var r=this.props.ad_image.upload;if(r&&e.ad_image.upload!==r)if("success"===r.status){var i=this.state.ad_images;i.push(r.ad_image);var l=i.length;this.setState({ad_images:i,ad_images_count:l,loading:!1})}else this.setState({loading:!1});var c=this.props.ad_image.delete;c&&e.ad_image.delete!==c&&"success"===c.status&&this.props.dispatch(ke(this.state.ad.id));var s=this.props.ad_image.main;s&&e.ad_image.main!==s&&"success"===s.status&&(this.props.dispatch(le(this.state.ad.id)),this.props.dispatch(ke(this.state.ad.id)))}}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{className:"uk-container"},this.adView())}}]),t}(n.Component);var ye=Object(o.b)(function(e){return{ad:e.ad,user:e.user,ad_image:e.ad_image}})(be);var Ne=function(e,t){var a=function(a){function n(){var e,t;Object(R.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(G.a)(this,(e=Object(U.a)(n)).call.apply(e,[this].concat(r)))).state={loading:!0},t}return Object(M.a)(n,a),Object(L.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"USER_AUTH",payload:z.a.get("".concat(K,"/user/auth")).then(function(e){return e.data})})}},{key:"getSnapshotBeforeUpdate",value:function(e){return this.props.user.auth.isAuth?!1===t&&this.props.history.push("/profile"):t&&this.props.history.push("/login"),{updateRequired:e.user!==this.props.user}}},{key:"componentDidUpdate",value:function(e,t,a){a.updateRequired&&this.setState({loading:!1})}},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",{style:{width:"100%",height:"100%",top:0,left:0,position:"fixed",display:"block",backgroundColor:"#fff",zIndex:"991",textAlign:"center"}},r.a.createElement("div",{id:"loading-image",className:"uk-position-center uk-spinner uk-icon","uk-spinner":"ratio: 4.5"})):r.a.createElement(e,Object.assign({},this.props,{user:this.props.user}))}}]),n}(n.Component);return Object(o.b)(function(e){return{user:e.user}})(Object(s.b)(a))},Oe=function(){return r.a.createElement(B,null,r.a.createElement(T.c,null,r.a.createElement(T.a,{path:"/profile",exact:!0,component:Ne(ue,!0)}),r.a.createElement(T.a,{path:"/post-ad",exact:!0,component:Ne(ge,!0)}),r.a.createElement(T.a,{path:"/my-ad/:id",exact:!0,component:Ne(ye,!0)}),r.a.createElement(T.a,{path:"/my-ad/:id/edit",exact:!0,component:Ne(Ee,!0)}),r.a.createElement(T.a,{path:"/logout",exact:!0,component:Ne(Y,!0)}),r.a.createElement(T.a,{path:"/register",exact:!0,component:Ne($,!1)}),r.a.createElement(T.a,{path:"/login",exact:!0,component:Ne(te,!1)}),r.a.createElement(T.a,{path:"/",exact:!0,component:Ne(V,null)})))};h.b.add(E.a,g.a,v.a);var _e=Object(u.a)(m.a,p.a)(u.d);l.a.render(r.a.createElement(o.a,{store:_e(I)},r.a.createElement(s.a,null,r.a.createElement(c.a,null,r.a.createElement(Oe,null)))),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.b3060604.chunk.js.map